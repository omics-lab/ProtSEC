getwd()
library(tidyverse)
x = read.table("acc_percent_sigprot_methods.txt")
View(x)
x = read.table("acc_percent_sigprot_methods.txt")[,c(1,3)]
View(x)
head(x)
df = read.table("acc_percent_sigprot_methods.txt")[,c(1,3)]
colnames(df) = c(filename, value)
colnames(df) = c("filename", "value")
View(df)
df$sizeK <- sub(".*_(\\d+)_.*", "\\1", df$filename)
df$sizeK <- paste0(as.numeric(df$sizeK) / 1000, "K")
# View the updated dataframe
print(df)
library(tidyverse)
getwd()
df = read.table("acc_percent_sigprot_methods.txt")[,c(1,3)]
colnames(df) = c("filename", "value")
df$prefix <- sub("_uniprot.*", "", df$filename)
df$sizeK <- sub(".*_(\\d+)_.*", "\\1", df$filename)
df$sizeK <- paste0(as.numeric(df$sizeK) / 1000, "K")
print(df)
df$parameter <- sub("_uniprot.*", "", df$filename)
df$sizeK <- sub(".*_(\\d+)_.*", "\\1", df$filename)
df$sizeK <- paste0(as.numeric(df$sizeK) / 1000, "K")
print(df)
library(tidyverse)
getwd()
df = read.table("acc_percent_sigprot_methods.txt")[,c(1,3)]
colnames(df) = c("filename", "value")
df$parameter <- sub("_uniprot.*", "", df$filename)
df$sizeK <- sub(".*_(\\d+)_.*", "\\1", df$filename)
df$sizeK <- paste0(as.numeric(df$sizeK) / 1000, "K")
print(df)
df %>%
ggplot(aes(sizeK, value)) +
geom_bar()
df %>%
ggplot(aes(sizeK, value)) +
geom_bar(stat_count())
df %>%
ggplot(aes(sizeK, value)) +
geom_col()
df %>%
ggplot(aes(sizeK, value, color = parameter)) +
geom_col()
df %>%
ggplot(aes(sizeK, value, fill = parameter)) +
geom_col(position = "dodge")
df %>%
ggplot(aes(sizeK, value, fill = parameter)) +
geom_col(position = "dodge") +
theme_bw()
df = read.table("acc_percent_sigprot_methods.txt")[,c(1,3)]
colnames(df) = c("filename", "value")
df$parameter <- sub("_uniprot.*", "", df$filename)
df = df %>%
separate(parameter, into = c("type", "group"), sep = "_")
df$sizeK <- sub(".*_(\\d+)_.*", "\\1", df$filename)
df$sizeK <- paste0(as.numeric(df$sizeK) / 1000, "K")
head(df)
df %>%
ggplot(aes(sizeK, value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
theme_bw()
library(tidyverse)
# Check current working directory
getwd()
# Read file and select relevant columns
df <- read.table("acc_percent_sigprot_methods.txt")[, c(1, 3)]
colnames(df) <- c("filename", "value")
# Extract 'parameter' and split into 'type' and 'group'
df$parameter <- sub("_uniprot.*", "", df$filename)
df <- df %>%
separate(parameter, into = c("type", "group"), sep = "_")
# Extract and convert size to "K" format
df$sizeK <- sub(".*_(\\d+)_.*", "\\1", df$filename)
df$sizeK_num <- as.numeric(df$sizeK) / 1000
df$sizeK <- paste0(df$sizeK_num, "K")
df$sizeK <- sub("\\.0K", "K", df$sizeK)  # optional: remove trailing ".0"
# Order sizeK factor by numeric value
df$sizeK <- factor(df$sizeK, levels = paste0(sort(unique(df$sizeK_num)), "K"))
# Plot
df %>%
ggplot(aes(x = sizeK, y = value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
scale_fill_brewer(palette = "Set2") +
theme_bw() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
labs(
x = "Sequence Size (K)",
y = "Accuracy (%)",
fill = "Group",
title = "Method Performance by Dataset Size and Group"
)
# Plot
df %>%
ggplot(aes(x = sizeK, y = value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
scale_fill_brewer(palette = "Set1") +
theme_bw() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
labs(
x = "Sequence Size (K)",
y = "Accuracy (%)",
fill = "Group",
)
# Plot
df %>%
ggplot(aes(x = sizeK, y = value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
scale_fill_brewer(palette = "Set4") +
theme_bw() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
labs(
x = "Sequence Size (K)",
y = "Accuracy (%)",
fill = "Group",
)
# Plot
df %>%
ggplot(aes(x = sizeK, y = value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
scale_fill_brewer(palette = "Set3") +
theme_bw() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
labs(
x = "Sequence Size (K)",
y = "Accuracy (%)",
fill = "Group",
)
# Plot
df %>%
ggplot(aes(x = sizeK, y = value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
scale_fill_brewer(palette = "Set5") +
theme_bw() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
labs(
x = "Sequence Size (K)",
y = "Accuracy (%)",
fill = "Group",
)
# Plot
df %>%
ggplot(aes(x = sizeK, y = value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
scale_fill_brewer(palette = "Set1") +
theme_bw() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
labs(
x = "Sequence Size (K)",
y = "Accuracy (%)",
fill = "Group",
)
# Plot
df %>%
ggplot(aes(x = sizeK, y = value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
scale_fill_brewer(palette = "Set2") +
theme_bw() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
labs(
x = "Sequence Size (K)",
y = "Accuracy (%)",
fill = "Group",
)
library(tidyverse)
# Check current working directory
getwd()
# Read file and select relevant columns
df <- read.table("acc_percent_sigprot_methods.txt")[, c(1, 3)]
colnames(df) <- c("filename", "value")
# Extract 'parameter' and split into 'type' and 'group'
df$parameter <- sub("_uniprot.*", "", df$filename)
df <- df %>%
separate(parameter, into = c("type", "group"), sep = "_")
# Extract and convert size to "K" format
df$sizeK <- sub(".*_(\\d+)_.*", "\\1", df$filename)
df$sizeK_num <- as.numeric(df$sizeK) / 1000
df$sizeK <- paste0(df$sizeK_num, "K")
df$sizeK <- sub("\\.0K", "K", df$sizeK)
# Order sizeK factor by numeric value
df$sizeK <- factor(df$sizeK, levels = paste0(sort(unique(df$sizeK_num)), "K"))
# Create plot
p <- df %>%
ggplot(aes(x = sizeK, y = value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
scale_fill_brewer(palette = "Set2") +
theme_bw() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
labs(
x = "Sequence Size (K)",
y = "Accuracy (%)",
fill = "Group")
# Display the plot (optional)
print(p)
# Save plot as PDF
ggsave("dimreduct_distfunc.pdf", plot = p, width = 8, height = 5)
library(tidyverse)
# Check current working directory
getwd()
# Read file and select relevant columns
df <- read.table("acc_percent_sigprot_methods.txt")[, c(1, 3)]
colnames(df) <- c("filename", "value")
# Extract 'parameter' and split into 'type' and 'group'
df$parameter <- sub("_uniprot.*", "", df$filename)
df <- df %>%
separate(parameter, into = c("type", "group"), sep = "_")
# Extract and convert size to "K" format
df$sizeK <- sub(".*_(\\d+)_.*", "\\1", df$filename)
df$sizeK_num <- as.numeric(df$sizeK) / 1000
df$sizeK <- paste0(df$sizeK_num, "K")
df$sizeK <- sub("\\.0K", "K", df$sizeK)
# Order sizeK factor by numeric value
df$sizeK <- factor(df$sizeK, levels = paste0(sort(unique(df$sizeK_num)), "K"))
# Create plot
p <- df %>%
ggplot(aes(x = sizeK, y = value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
scale_fill_brewer(palette = "Set2") +
theme_bw() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
labs(
x = "Sequence Size (K)",
y = "Accuracy (%)",
fill = "Group")
# Display the plot (optional)
print(p)
# Save plot as PDF
ggsave("../../plots/dimreduct_distfunc.pdf", plot = p, width = 8, height = 5)
library(tidyverse)
# Check current working directory
getwd()
# Read file and select relevant columns
df <- read.table("acc_percent_sigprot_methods.txt")[, c(1, 3)]
colnames(df) <- c("filename", "value")
# Extract 'parameter' and split into 'type' and 'group'
df$parameter <- sub("_uniprot.*", "", df$filename)
df <- df %>%
separate(parameter, into = c("type", "group"), sep = "_")
# Extract and convert size to "K" format
df$sizeK <- sub(".*_(\\d+)_.*", "\\1", df$filename)
df$sizeK_num <- as.numeric(df$sizeK) / 1000
df$sizeK <- paste0(df$sizeK_num, "K")
# Order sizeK factor by numeric value
df$sizeK <- factor(df$sizeK, levels = paste0(sort(unique(df$sizeK_num)), "K"))
# Create plot
p <- df %>%
ggplot(aes(x = sizeK, y = value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
scale_fill_brewer(palette = "Set2") +
theme_bw() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
labs(
x = "Sequence Size (K)",
y = "Accuracy (%)",
fill = "Group")
# Display the plot (optional)
print(p)
# Save plot as PDF
ggsave("../../plots/dimreduct_distfunc.pdf", plot = p, width = 8, height = 5)
if (!requireNamespace("tidyverse", quietly = TRUE)) {
install.packages("tidyverse")
}
library(tidyverse)
# Check current working directory
getwd()
# Read file and select relevant columns
df <- read.table("acc_percent_sigprot_methods.txt")[, c(1, 3)]
colnames(df) <- c("filename", "value")
# Extract 'parameter' and split into 'type' and 'group'
df$parameter <- sub("_uniprot.*", "", df$filename)
df <- df %>%
separate(parameter, into = c("type", "group"), sep = "_")
# Extract and convert size to "K" format
df$sizeK <- sub(".*_(\\d+)_.*", "\\1", df$filename)
df$sizeK_num <- as.numeric(df$sizeK) / 1000
df$sizeK <- paste0(df$sizeK_num, "K")
# Order sizeK factor by numeric value
df$sizeK <- factor(df$sizeK, levels = paste0(sort(unique(df$sizeK_num)), "K"))
# Create plot
p <- df %>%
ggplot(aes(x = sizeK, y = value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
scale_fill_brewer(palette = "Set2") +
theme_bw() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
labs(
x = "Number of sequences",
y = "Accuracy (%)",
fill = "Group")
# Display the plot (optional)
print(p)
# Save plot as PDF
ggsave("../../plots/dimreduct_distfunc.pdf", plot = p, width = 8, height = 5)
library(tidyverse)
# Check current working directory
getwd()
# Read file and select relevant columns
df <- read.table("acc_percent_sigprot_methods.txt")[, c(1, 3)]
colnames(df) <- c("filename", "value")
# Extract 'parameter' and split into 'type' and 'group'
df$parameter <- sub("_uniprot.*", "", df$filename)
df <- df %>%
separate(parameter, into = c("type", "group"), sep = "_")
# Extract and convert size to "K" format
df$sizeK <- sub(".*_(\\d+)_.*", "\\1", df$filename)
df$sizeK_num <- as.numeric(df$sizeK) / 1000
df$sizeK <- paste0(df$sizeK_num, "K")
# Order sizeK factor by numeric value
df$sizeK <- factor(df$sizeK, levels = paste0(sort(unique(df$sizeK_num)), "K"))
# Create plot
p <- df %>%
ggplot(aes(x = sizeK, y = value, fill = group)) +
geom_col(position = "dodge") +
facet_grid(~type) +
scale_fill_brewer(palette = "Set2") +
theme_bw() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
labs(
x = "Database",
y = "Accuracy (%)",
fill = "Group")
# Display the plot (optional)
print(p)
# Save plot as PDF
ggsave("../../plots/dimreduct_distfunc.pdf", plot = p, width = 8, height = 5)
ggsave("../../plots/dimreduct_distfunc.png", plot = p, width = 8, height = 5, dpi = 300)
head(df)
df %>%
group_by(type, group) %>%
summarise(avg_value = mean(value), .groups = "drop")
df %>%
group_by(type, group) %>%
summarise(avg_value = mean(value), .groups = "drop") %>%
arrange(desc(avg_value))
df %>%
group_by(type, group) %>%
summarise(avg_value = mean(value), .groups = "drop")
df2 = df %>%
group_by(type, group) %>%
summarise(avg_value = mean(value), .groups = "drop") %>%
arrange(desc(avg_value))
View(df2)
View(df)
9*5
df %>%
group_by(type, group) %>%
summarise(avg_value = mean(value), .groups = "drop") %>%
arrange(desc(avg_value))
